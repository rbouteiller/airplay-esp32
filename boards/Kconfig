menu "Board Selection"

choice BOARD_TYPE
    prompt "Target Board"
    default BOARD_ESP32S3_GENERIC if IDF_TARGET_ESP32S3
    default BOARD_SQUEEZEAMP if IDF_TARGET_ESP32
    help
        Select the target hardware board.

config BOARD_SQUEEZEAMP
    bool "SqueezeAMP (8MB flash)"
    depends on IDF_TARGET_ESP32
    help
        SqueezeAMP board with TAS5756 DAC, 8MB flash, 8MB PSRAM.

config BOARD_SQUEEZEAMP_4M
    bool "SqueezeAMP (4MB flash)"
    depends on IDF_TARGET_ESP32
    help
        SqueezeAMP board with TAS5756 DAC, 4MB flash, 8MB PSRAM.

config BOARD_ESP32S3_GENERIC
    bool "ESP32-S3 Generic"
    depends on IDF_TARGET_ESP32S3
    help
        Generic ESP32-S3 development board with external I2S DAC.

endchoice

# Hidden config to detect any SqueezeAMP variant (for shared features)
config BOARD_SQUEEZEAMP_COMMON
    bool
    default y if BOARD_SQUEEZEAMP || BOARD_SQUEEZEAMP_4M

endmenu

# Source per-board Kconfig files for pin configuration
rsource "squeezeamp/Kconfig"
rsource "esp32s3-generic/Kconfig"

# Source shared configuration (LED behaviors, WiFi, etc.)
rsource "Kconfig.common"
